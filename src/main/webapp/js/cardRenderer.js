const cardData = [
    // 도미토리형
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        soldOut: true,
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "도미토리형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },

    // 프라이빗형
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "프라이빗형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },

    // 패밀리/독채형
    {
        category: "패밀리/독채형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "패밀리/독채형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "패밀리/독채형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "패밀리/독채형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },

    // 테마형/특수형
    {
        category: "테마형/특수형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "테마형/특수형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "테마형/특수형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "테마형/특수형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "테마형/특수형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },

    // 장기 숙박형
    {
        category: "장기 숙박형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "장기 숙박형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    },
    {
        category: "장기 숙박형",
        image: "image/eximage.webp",
        title: "G 게스트하우스 이태원",
        rating: "4.2",
        originalPrice: "40,000",
        discountPrice: "25,000",
        location: "경기도 안양시 동안구",
        features: "무료 와이파이, 주차 제공, 식사 제공"
    }
];

function createCardHtml(card) {
    const priceHtml = card.soldOut ?
        `<p class=\"sold-out\">예약마감</p>` :
        `<p class=\"price\">\n     
            <del>${card.originalPrice}</del>\n
            <span class=\"price-discount\">${card.discountPrice}</span>\n       
        </p>`;
    return `
        <div class=\"card\">
            <div class=\"card-img-wrapper\">
                <img src=\"${card.image}\" class=\"card-img\" alt=\"썸네일\" loading=\"lazy\" />
            </div>
            <div class=\"card-body\">
                <div class=\"card-head\">\n
                    <h5 class=\"card-title\">${card.title}</h5>
                    <div class=\"rating-heart\">\n
                        <div class=\"rating\">\n                            
                            <img src=\"image/star.webp\" alt=\"별점\" class=\"star-icon\">\n                            
                            <span class=\"rating-score\">${card.rating}</span>\n                        
                        </div>
                        <button class=\"heart-btn\">\n
                            <img class=\"heart-img\" src=\"image/heart_non.webp\" alt=\"하트\" loading=\"lazy\"/>\n         
                        </button>\n                    
                    </div>\n                
                </div>
                ${priceHtml}
                <div class=\"location-box\">\n                    
                    <img class=\"location-icon\" src=\"image/location.webp\" alt=\"위치 이미지\" loading=\"lazy\" />\n                    
                    <p class=\"location-text\">${card.location}</p>\n                
                </div>
                <p class=\"features\">${card.features}</p>\n            
            </div>\n        
        </div>
    `;
}

function createListCardHtml(card) {
    const priceHtml = card.soldOut ?
        `<p class="sold-out">예약마감</p>` :
        `<p class="price">
            <del>${card.originalPrice}</del>
            <span class="price-discount">${card.discountPrice}</span>
        </p>`;

    return `
        <div class="card list-card">
            <img src="${card.image}" class="card-img" alt="썸네일" />
            <div class="card-body">
                <h5 class="card-title">${card.title}</h5>
                <div class="rating">
                    <img src="image/star.webp" alt="별점" class="star-icon" />
                    <span class="rating-score">${card.rating}</span>
                </div>
                ${priceHtml}
                <div class="location-box">
                    <img class="location-icon" src="image/location.webp" alt="위치" />
                    <p class="location-text">${card.location}</p>
                </div>
                <p class="features">${card.features}</p>
            </div>
        </div>
    `;
}

function showSpinner() {
    const spinner = document.getElementById('spinner');
    spinner.style.display = 'flex';
}

function hideSpinner() {
    const spinner = document.getElementById('spinner');
    spinner.style.display = 'none';
}

function renderCards() {
    showSpinner();

    setTimeout(() => {
        const categories = {};
        document.querySelectorAll('.category-group').forEach(group => {
            const title = group.querySelector('.gh-title')?.textContent.trim();
            const container = group.querySelector('.responsive');
            if (title && container) {
                categories[title] = container;
            }
        });

        // Clear existing cards
        for (const key in categories) {
            categories[key].innerHTML = '';
        }

        // Render new cards
        cardData.forEach(card => {
            const container = categories[card.category];
            if (container) {
                container.insertAdjacentHTML('beforeend', createCardHtml(card));
            }
        });

        // Init slick
        $('.responsive').slick({
            dots: true,
            arrows: true,
            infinite: false,
            speed: 300,
            slidesToShow: 3,
            slidesToScroll: 2,
            rows: 1,
        });

        hideSpinner();
    }, 1000);
}

function renderCardListViewByCategory(category) {
    const container = document.querySelector('#search-list');
    const spinner = document.getElementById('spinner');

    spinner.style.display = 'flex';
    container.innerHTML = '';

    setTimeout(() => {
        const filteredCards = cardData.filter(card => card.category === category);

        filteredCards.forEach(card => {
            container.insertAdjacentHTML('beforeend', createListCardHtml(card));
        });

        spinner.style.display = 'none';
    }, 500);
}
